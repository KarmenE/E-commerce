<!-- <div class="card m-3" *ngFor="let p of prodotti">
    <div class="card-body">
      <img class="card-img" [src]="p.prodotto.image" alt="Card image cap">
      {{ p.prodotto.title }}
      {{ p.prodotto.price }}
      ({{ p.quantita}})
      <button class="btn btn-success" (click)="ProdottoCarrello.aggiungi(p.prodotto)">+</button>
      <button class="btn btn-danger" (click)="ProdottoCarrello.rimuovi(p)">-</button>
    </div>
</div> -->


<div *ngIf="prodottiDelCarrello.length > 0; else noProdotti" class="m-3 pt-3">
  <table class="table table-bordered">
    <thead>
      <tr>
        <th class="align-middle">Immagine</th>
        <th class="align-middle">Nome</th>
        <th class="align-middle">Prezzo Unitario</th>
        <th class="align-middle">Quantità</th>
        <th class="align-middle">Totale</th>
        <th class="align-middle">Azioni</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let p of prodottiDelCarrello">
        <td class="align-middle">
          <img [src]="p.prodotto.image" alt="Immagine prodotto" style="max-width: 50px;">
        </td>
        <td class="align-middle">{{ p.prodotto.title }}</td>
        <td class="align-middle">{{ p.prodotto.price | currency }}</td>
        <td class="align-middle">            
          <div class="bd-highlight">
            <button class="btn btn-success btn-sm" (click)="ProdottoCarrello.aggiungi(p.prodotto)">+</button>
            {{ p.quantita }}
            <button class="btn btn-warning btn-sm" (click)="ProdottoCarrello.rimuovi(p)">-</button>
          </div></td>
        <td class="align-middle">{{ p.prodotto.price * p.quantita | currency }}</td>
        <td class="align-middle">
            <div class="ms-auto bd-highlight">
              <button class="btn btn-danger btn-sm" (click)="ProdottoCarrello.elimina(p.prodotto)">
                Elimina articolo
              </button>
            </div>   
        </td>
      </tr>
    </tbody>
  </table>
  <div class="card m-5">
    <p class="fs-4 d-flex justify-content-center">Totale Carrello: &nbsp; <strong> {{ ProdottoCarrello.getTotaleCarrello() | currency }} </strong></p>
  </div>
</div>

<div class="d-flex justify-content-center">
  <button class="btn btn-dark" routerLink="home">Torna a Home</button>
</div>

<ng-template #noProdotti>
  <p class="fs-4 d-flex justify-content-center mt-5">Il carrello è vuoto.</p>
</ng-template>

<!-- <button>Procedi al pagamento</button> -->